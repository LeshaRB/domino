def generatedDir = new File(buildDir, "generated/source")

apply plugin: "java"

sourceSets {
  main.java.srcDirs = ["$generatedDir/main", "src/main/java"]
  main.resources.srcDir "src/main/resources"
  test.java.srcDirs = ["$generatedDir/test", "src/test/java"]
  test.resources.srcDir "src/test/resources"
}

compileJava {
  sourceCompatibility = "1.8"
  targetCompatibility = "1.8"
  options.encoding = "UTF-8"
  options.compilerArgs = ["-Xlint:all"]
  dependsOn(processResources)
}

test {
  systemProperties = System.properties
}